---
$schema: 'http://json-schema.org/draft-07/schema#'
definitions:
  uuid:
    type: string
    pattern: "^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$"
  ipaddr:
    oneOf:
      - type: string
        format: ipv4
      - type: string
        format: ipv6
  macaddr:
    type: string
    pattern: "^[0-9A-Fa-f]{2}:[0-9A-Fa-f]{2}:[0-9A-Fa-f]{2}:[0-9A-Fa-f]{2}:[0-9A-Fa-f]{2}:[0-9A-Fa-f]{2}$"
  relay_id:
    type: string
    pattern: ^\S+$
  device_id:
    type: string
    pattern: ^\S+$
  device_asset_tag:
    type: string
    pattern: ^\S+$
  device_phase:
    type: string
    enum:
      - integration
      - installation
      - production
      - diagnostics
      - decommissioned
  non_empty_string:
    type: string
    minLength: 1
  # see https://metacpan.org/pod/Mojolicious::Guides::Routing#Standard-placeholders
  mojo_standard_placeholder:
    type: string
    pattern: "^[^/.]+$"
  # see https://metacpan.org/pod/Mojolicious::Guides::Routing#Relaxed-placeholders
  mojo_relaxed_placeholder:
    type: string
    pattern: "^[^/]+$"
  email_address:
    allOf:
      - type: string
        format: email
      - $ref: /definitions/mojo_relaxed_placeholder
