---
$schema: 'http://json-schema.org/draft-07/schema#'
definitions:
  uuid:
    type: string
    pattern: "^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$"
  ipaddr:
    oneOf:
      - type: string
        format: ipv4
      - type: string
        format: ipv6
  macaddr:
    type: string
    pattern: "^[0-9A-Fa-f]{2}:[0-9A-Fa-f]{2}:[0-9A-Fa-f]{2}:[0-9A-Fa-f]{2}:[0-9A-Fa-f]{2}:[0-9A-Fa-f]{2}$"
  relay_id:
    type: string
    pattern: ^\S+$
  device_id:
    type: string
    pattern: ^\S+$
  device_asset_tag:
    type: string
    pattern: ^\S+$
  device_phase:
    description: corresponds to device_phase_enum in the database
    type: string
    enum:
      - integration
      - installation
      - production
      - diagnostics
      - decommissioned
  device_interface_name:
    allOf:
      - type: string
        pattern: ^\S+$
      - $ref: /definitions/mojo_relaxed_placeholder
  device_setting_key:
    $ref: /definitions/mojo_relaxed_placeholder
  disk_serial_number:
    type: string
    pattern: ^\S+$
  room_az:
    type: string
    pattern: ^[\w-]+$
  user_setting_key:
    $ref: /definitions/mojo_relaxed_placeholder
  non_empty_string:
    type: string
    minLength: 1
  mojo_standard_placeholder:
    description: see https://metacpan.org/pod/Mojolicious::Guides::Routing#Standard-placeholders
    type: string
    pattern: "^[^/.]+$"
  mojo_relaxed_placeholder:
    description: see https://metacpan.org/pod/Mojolicious::Guides::Routing#Relaxed-placeholders
    type: string
    pattern: "^[^/]+$"
  email_address:
    allOf:
      - type: string
        format: email
      - $ref: /definitions/mojo_relaxed_placeholder
